
TODO

For each test (* is XHR only):
  - @import to css
  - XHR to app/octet


A. Setup
0. can auto-nav
1. Caches Expires: [future]
2. Caches Expires: [future] + CC: private

B. Conformance
I. int fresh_for(response)
  9. Doesn't cache FOO method responses
  11. Doesn't cache nominated status codes without explicit freshness
  12. Doesn't cache PUT requests/responses
  13. Doesn't cache DELETE requests/responses
  14. Doesn't cache Vary: *

II. invalidates(res1, res2)
15. Doesn't cache Vary: cookie with different cookie
16. Invalidates request-URI on POST / PUT / DELETE
17. Invalidates content-location on POST / PUT / DELETE
18. Invalidates location on POST / PUT / DELETE
19. Invalidates request-URI on FOO

III.
20. Doesn't cache on request Cache-Control: no-cache
21. Doesn't cache on request Cache-Control: no-store
22. Doesn't cache on request Cache-Control: max-age=n w/ age > n
23. Doesn't cache on request Cache-Control: max-stale...
24. 504s on Cache-Control: only-if-cached when not in cache

C. Functionality

5. Caches Expires: [past] + Cache-Control: max-age=[future]
6. Caches URI with query string + explicit freshness
7. Caches nominated status codes without explicit freshness
8. Caches authenticated responses
9. Caches POST responses for future GETs
10. Caches PATCH responses
14. Caches Vary: cookie with same cookie
15. *Caches on request Cache-Control: max-age=n w/ age <= n
16. *Caches on request Cache-Control: max-stale...
17. *Caches partial response
18. *Combines partial response from cache

needs analysis
1. Caches Expires: [future]
2. Caches Cache-Control: max=age=n
3. Caches Cache-Control: max-age=n + wait (n-m)
4. Caches Cache-Control: max-age=n + Age: (n-m)
11. Caches Vary: Accept-Encoding
12. Caches Vary: User-Agent
13. Caches Vary: Host

TODO
 - header nomination and private, no-cache
 - validation
 - clockless origin server
 - detailed age calculation
 - stale responses (+ must-revalidate)
 - malformed age, cache-control, date
